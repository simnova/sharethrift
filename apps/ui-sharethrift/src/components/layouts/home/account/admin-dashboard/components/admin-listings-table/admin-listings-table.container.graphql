# Inline fragment (previously in admin-listings-table.fragment.graphql)
fragment AdminListingFields on ListingAll {
  id
  title
  state
  images
  createdAt
  sharingPeriodStart
  sharingPeriodEnd
}

query AdminListingsTableContainerAdminListings(
  $page: Int!
  $pageSize: Int!
  $searchText: String
  $statusFilters: [String!]
  $sorter: SorterInput
) {
  adminListings(
    page: $page
    pageSize: $pageSize
    searchText: $searchText
    statusFilters: $statusFilters
    sorter: $sorter
  ) {
    items {
      ...AdminListingFields
    }
    total
    page
    pageSize
  }
}

mutation AdminListingsTableContainerDeleteListing($id: ObjectID!) {
  deleteItemListing(id: $id) {
    status {
      success
      errorMessage
    }
  }
}
