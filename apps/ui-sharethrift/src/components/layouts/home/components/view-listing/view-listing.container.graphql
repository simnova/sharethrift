# View Listing Query (backend-aligned)

query ViewListing($id: ObjectID!) {
	itemListing(id: $id) {
		id
		title
		description
		category
		location
		sharingPeriodStart
		sharingPeriodEnd
		state
		images
		createdAt
		updatedAt
		reports
		sharingHistory
		schemaVersion
	}
}

query ViewListingCurrentUser {
	currentPersonalUserAndCreateIfNotExists {
		id
	}
}

query ViewListingActiveReservationRequestForListing(
	$listingId: ObjectID!
	$reserverId: ObjectID!
) {
	myActiveReservationForListing(listingId: $listingId, userId: $reserverId) {
		id
		state
		reservationPeriodStart
		reservationPeriodEnd
	}
}
