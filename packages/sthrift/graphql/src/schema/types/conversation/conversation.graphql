type Conversation implements MongoBase {
  sharer: PersonalUser!
  reserver: PersonalUser!
  listing: ItemListing!
  twilioConversationId: String!
  id: ObjectID!
  schemaVersion: String!
  createdAt: DateTime!
  updatedAt: DateTime!
}

input ConversationCreateInput {
  sharerId: ObjectID!
  reserverId: ObjectID!
  listingId: ObjectID!
}

type ConversationMutationResult implements MutationResult {
  status: MutationStatus!
  conversation: Conversation
}

extend type Query {
  conversationsByUser(userId: ObjectID!): [Conversation]
  conversation(conversationId: ObjectID!): Conversation
}

extend type Mutation {
  createConversation(input: ConversationCreateInput!): ConversationMutationResult!
}
