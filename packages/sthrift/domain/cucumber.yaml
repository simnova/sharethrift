default:
  # Feature files location - using domain unit test features only
  # Note: Removed tests/acceptance as it violated architectural boundaries
  # by depending on GraphQL API layer. Domain tests should only test domain logic.
  paths:
    - src/domain/**/features/**/*.feature

  # Step definitions location - using ESM import
  import:
    - src/**/*.test.ts

  # TypeScript support - using tsx with ESM loader
  loader:
    - tsx

  # Format options with JSON and HTML reports
  format:
    - pretty
    - summary
    - json:test-results/cucumber-report.json
    - html:test-results/cucumber-report.html

  # Serenity BDD report output
  formatOptions:
    snippetInterface: async-await

  # Parallel execution
  parallel: 1

  # Retry failed scenarios
  retry: 1

  # Exit on first failure
  failFast: false

  # Tags to run/exclude
  tags: "not @skip and not @wip"

  # World parameters
  worldParameters:
    environment: ${NODE_ENV:-test}
    serenityReportDir: test-results/serenity