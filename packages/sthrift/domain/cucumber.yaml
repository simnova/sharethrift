default:
  # Feature files location - domain-level test features only
  # Note: Previous tests/acceptance suite (GraphQL/API-level) was removed as it violated
  #       architectural boundaries; domain tests in this config must exercise only domain logic.
  #       Serenity/acceptance tests mentioned in the changelog are not configured here and
  #       should live in a separate configuration targeting the API or higher layers.
  paths:
    - src/domain/**/features/**/*.feature

  # Step definitions location - using ESM import
  import:
    - src/**/*.test.ts

  # Format options with JSON and HTML reports
  format:
    - pretty
    - summary
    - json:test-results/cucumber-report.json
    - html:test-results/cucumber-report.html

  # Serenity BDD report output
  formatOptions:
    snippetInterface: async-await

  # Parallel execution
  parallel: 1

  # Retry failed scenarios
  retry: 1

  # Exit on first failure
  failFast: false

  # Tags to run/exclude
  tags: "not @skip and not @wip"

  # World parameters
  worldParameters:
    environment: ${NODE_ENV:-test}
    serenityReportDir: test-results/serenity