type ItemListing {
  id: ObjectId!
  sharer: ObjectId!
  title: String!
  description: String!
  category: String!
  location: String!
  sharingPeriodStart: DateTime!
  sharingPeriodEnd: DateTime!
  state: ItemListingState
  createdAt: DateTime
  updatedAt: DateTime
  sharingHistory: [ObjectId!]
  reports: Int
}

enum ItemListingState {
  Published
  Paused
  Cancelled
  Drafted
  Expired
  Blocked
  AppealRequested
}

# Page types for My Listings Dashboard
type ListingAllPage {
  items: [ListingAll!]!
  total: Int!
  page: Int!
  pageSize: Int!
}

type ListingRequestPage {
  items: [ListingRequest!]!
  total: Int!
  page: Int!
  pageSize: Int!
}

# Listing types for dashboard
type ListingAll {
  id: ID!
  title: String!
  image: String
  publishedAt: String
  reservationPeriod: String
  status: String!
  pendingRequestsCount: Int!
}

type ListingRequest {
  id: ID!
  title: String!
  image: String
  requestedBy: String!
  requestedOn: String!
  reservationPeriod: String!
  status: String!
}

type Query {
  itemListings: [ItemListing!]!
  itemListing(id: ObjectId!): ItemListing
  myListingsAll(page: Int!, pageSize: Int!): ListingAllPage!
  myListingsRequests(page: Int!, pageSize: Int!): ListingRequestPage!
}