"use strict";(globalThis.webpackChunk_sthrift_docs=globalThis.webpackChunk_sthrift_docs||[]).push([[6062],{3160:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"security-requirements/pii-data-restrictions","title":"PII Data Restrictions","description":"No financial or sensitive PII data (e.g., SSNs, payment info) may be stored on the platform","source":"@site/docs/security-requirements/0006-pii-data-restrictions.md","sourceDirName":"security-requirements","slug":"/security-requirements/pii-data-restrictions","permalink":"/docs/security-requirements/pii-data-restrictions","draft":false,"unlisted":false,"editUrl":"https://github.com/simnova/sharethrift/tree/main/packages/docs/docs/security-requirements/0006-pii-data-restrictions.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"sidebar_label":"0006 PII Data Restrictions","description":"No financial or sensitive PII data (e.g., SSNs, payment info) may be stored on the platform","status":"pending","contact":null,"date":"2025-10-29T00:00:00.000Z","deciders":null,"consulted":null,"informed":null},"sidebar":"docsSidebar","previous":{"title":"0005 Content Auto Review","permalink":"/docs/security-requirements/content-auto-review"},"next":{"title":"0007 Admin Access Control","permalink":"/docs/security-requirements/admin-access-control"}}');var t=i(5270),r=i(7678);const a={sidebar_position:6,sidebar_label:"0006 PII Data Restrictions",description:"No financial or sensitive PII data (e.g., SSNs, payment info) may be stored on the platform",status:"pending",contact:null,date:new Date("2025-10-29T00:00:00.000Z"),deciders:null,consulted:null,informed:null},o="PII Data Restrictions",l={},c=[{value:"Security Requirement Statement",id:"security-requirement-statement",level:2},{value:"Control Classification",id:"control-classification",level:2},{value:"Compensating Controls",id:"compensating-controls",level:2},{value:"Success Criteria",id:"success-criteria",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"pii-data-restrictions",children:"PII Data Restrictions"})}),"\n",(0,t.jsx)(n.h2,{id:"security-requirement-statement",children:"Security Requirement Statement"}),"\n",(0,t.jsx)(n.p,{children:"No financial or sensitive PII data (e.g., SSNs, payment info) may be stored on the platform."}),"\n",(0,t.jsx)(n.h2,{id:"control-classification",children:"Control Classification"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Timing Control Category"}),": Preventive"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Nature Control Category"}),": Technical"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Status"}),": Identified"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Date Identified"}),": 2025-10-29"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Date First Implemented"}),": TBD"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Date Last Reviewed"}),": 2025-10-29"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Date Retired"}),": N/A"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Payment Data Tokenization (CyberSource Integration)"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ServiceCybersource"})," handles all payment processing through external provider"]}),"\n",(0,t.jsx)(n.li,{children:"Customer profiles stored with tokenized payment instruments rather than raw card data"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PersonalUserAccountProfileBilling"})," entity stores only payment references (subscriptionId, cybersourceCustomerId, lastTransactionId, paymentState)"]}),"\n",(0,t.jsxs)(n.li,{children:["Payment token information (",(0,t.jsx)(n.code,{children:"PaymentTokenInfo"}),") used for secure payment instrument management"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Domain-Layer Authorization (Passport/Visa Pattern)"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PersonalUserProfile"})," enforces visa validation for PII access: ",(0,t.jsx)(n.code,{children:"this.visa.determineIf((permissions) => permissions.isEditingOwnAccount)"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PersonalUser"})," aggregate validates authorization before any PII modifications"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"UserDomainPermissions"})," interface defines specific permissions for PII operations"]}),"\n",(0,t.jsx)(n.li,{children:"Access control enforced at entity level through visa validation in setters"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Payment Processing Architecture"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Payment forms collect data client-side for direct CyberSource tokenization"}),"\n",(0,t.jsx)(n.li,{children:"No sensitive payment data stored in application database"}),"\n",(0,t.jsx)(n.li,{children:"Transaction references and payment states tracked for billing reconciliation"}),"\n",(0,t.jsx)(n.li,{children:"Customer payment instruments managed through CyberSource Token Management API"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"compensating-controls",children:"Compensating Controls"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Payment Data Security"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"CyberSource third-party payment processor provides PCI DSS compliance"}),"\n",(0,t.jsx)(n.li,{children:"Payment instruments tokenized before any application processing"}),"\n",(0,t.jsx)(n.li,{children:"Customer profiles contain only billing metadata, not sensitive payment details"}),"\n",(0,t.jsx)(n.li,{children:"Mock payment server used for development with no real payment data"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Authorization Framework"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Passport/Visa pattern provides fine-grained access control to PII data"}),"\n",(0,t.jsx)(n.li,{children:"Domain validation enforced in entity setters and mutating operations"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PersonalUserUserVisa"})," implements role-based permissions for account data access"]}),"\n",(0,t.jsxs)(n.li,{children:["Guest users have no access to PII through ",(0,t.jsx)(n.code,{children:"GuestUserPassport"})," returning false for all permissions"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Data Minimization"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Only payment references stored in ",(0,t.jsx)(n.code,{children:"PersonalUserAccountProfileBilling"})]}),"\n",(0,t.jsx)(n.li,{children:"Sensitive payment details handled entirely by CyberSource tokenization"}),"\n",(0,t.jsx)(n.li,{children:"Profile data access restricted to account owners through visa validation"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Domain Entity Validation"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"All PersonalUser profile modifications must pass visa validation"}),"\n",(0,t.jsx)(n.li,{children:"PersonalUserAccountProfileBilling stores only payment metadata and references"}),"\n",(0,t.jsx)(n.li,{children:"Payment processing delegated to external CyberSource service with proper tokenization"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Authentication & Authorization"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Passport/Visa pattern enforced on all PII access operations"}),"\n",(0,t.jsx)(n.li,{children:"UserDomainPermissions defines specific capabilities (isEditingOwnAccount, canBlockUsers, etc.)"}),"\n",(0,t.jsx)(n.li,{children:"Access control implemented at aggregate root level through visa validation"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Payment Security"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"CyberSource integration for all payment processing and tokenization"}),"\n",(0,t.jsx)(n.li,{children:"Payment instrument management through Token Management API"}),"\n",(0,t.jsx)(n.li,{children:"No raw payment data persistence in application database"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"success-criteria",children:"Success Criteria"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"PII Access Control"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"All PersonalUser profile modifications require valid visa authorization"}),"\n",(0,t.jsx)(n.li,{children:"Payment data handled exclusively through CyberSource tokenization"}),"\n",(0,t.jsx)(n.li,{children:"Guest users cannot access any PII data through domain authorization"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Payment Data Security"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"No sensitive payment information stored in application database"}),"\n",(0,t.jsx)(n.li,{children:"Payment processing delegated to PCI DSS compliant third-party provider"}),"\n",(0,t.jsx)(n.li,{children:"Payment references and transaction metadata only stored for billing operations"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Authorization Enforcement"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Domain-layer visa validation prevents unauthorized PII access"}),"\n",(0,t.jsx)(n.li,{children:"Passport/Visa pattern provides role-based access control to sensitive data"}),"\n",(0,t.jsx)(n.li,{children:"Access control enforced at entity level through proper domain validation"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},7678:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var s=i(9430);const t={},r=s.createContext(t);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);