# SonarCloud configuration for CellixJS monorepo
# Sensitive values are loaded from environment variables

sonar.projectKey=simnova_sharethrift-data-access
sonar.organization=simnova
sonar.projectName=Sharethrift
sonar.projectVersion=1.0.0

# Source directories (exclude test files)
sonar.sources=apps,packages,build-pipeline/scripts
sonar.tests=apps,packages

# Test file patterns (only include actual test files)
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx,**/*.stories.tsx

# Exclusions (matching CI/CD pipeline)
sonar.exclusions=**/*.config.ts,**/tsconfig.json,**/.storybook/**,**/*.stories.ts,**/*.test.ts,**/*.test.tsx,**/generated.ts,**/generated.tsx,**/*.d.ts,dist/**,apps/docs/src/test/**,packages/sthrift/domain/tests/**,packages/cellix/mock-oauth2-server/**,packages/cellix/mock-mongodb-memory-server/**

# Coverage exclusions
sonar.coverage.exclusions=**/*.config.ts,**/tsconfig.json,**/.storybook/**,**/*.stories.ts,**/*.stories.tsx,**/*.test.ts,**/*.test.tsx,**/generated.ts,**/generated.tsx,**/*.d.ts,dist/**,apps/docs/src/test/**,build-pipeline/scripts/**,packages/sthrift/domain/tests/**,packages/cellix/mock-oauth2-server/**,packages/cellix/mock-mongodb-memory-server/**

# CPD (code duplication) exclusions
sonar.cpd.exclusions=**/*.test.ts,**/generated.tsx,**/seed/**/*.ts,**/mock-*/src/**/*.ts

# Coverage report paths
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Language settings
sonar.typescript.lcov.reportPaths=coverage/lcov.info
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# SCM integration
sonar.scm.provider=git