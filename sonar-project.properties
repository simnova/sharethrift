# SonarCloud configuration for CellixJS monorepo
# Sensitive values are loaded from environment variables

sonar.projectKey=simnova_sharethrift-data-access
sonar.organization=simnova
sonar.projectName=Sharethrift
sonar.projectVersion=1.0.0

# Source directories (exclude test files)
sonar.sources=apps,packages,build-pipeline/scripts
sonar.tests=apps,packages

# Test file patterns (only include actual test files)
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx,**/*.stories.tsx

# Exclusions (matching CI/CD pipeline)
sonar.exclusions=**/*.config.ts,**/tsconfig.json,**/.storybook/**,**/*.stories.ts,**/*.test.ts,**/*.test.tsx,**/generated.ts,**/generated.tsx,**/*.d.ts,dist/**,apps/docs/src/test/**,packages/sthrift/domain/tests/**,packages/cellix/mock-oauth2-server/**,packages/cellix/mock-mongodb-memory-server/**,**/examples/**

# Coverage exclusions
# Standard exclusions: config, test, generated files
# Infrastructure exclusions: mongoose models, service config, graphql schema-builder (matching Cellix pattern)
sonar.coverage.exclusions=**/*.config.ts,**/tsconfig.json,**/.storybook/**,**/*.stories.ts,**/*.stories.tsx,**/*.test.ts,**/*.test.tsx,**/generated.ts,**/generated.tsx,**/*.d.ts,dist/**,apps/docs/src/test/**,build-pipeline/scripts/**,packages/sthrift/domain/tests/**,packages/cellix/mock-oauth2-server/**,packages/cellix/mock-mongodb-memory-server/**,packages/sthrift/data-sources-mongoose-models/**,packages/sthrift/graphql/src/schema/builder/schema-builder.ts,apps/api/src/service-config/**,**/index.ts

# CPD (code duplication) exclusions
# Exclude test files and generated code only (matching Cellix pattern)
sonar.cpd.exclusions=**/*.test.ts,**/generated.tsx

# Coverage report paths
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Language settings
sonar.typescript.lcov.reportPaths=coverage/lcov.info
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# SCM integration
sonar.scm.provider=git